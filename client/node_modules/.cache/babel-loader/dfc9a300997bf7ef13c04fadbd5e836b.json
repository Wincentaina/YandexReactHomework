{"ast":null,"code":"import { genreSlice } from \"./index\";\nimport { prepareData } from \"../utils\";\nimport { bookSlice } from \"../book\";\nexport const loadBooksIfNotExist = genreId = (dispatch, getState) => {\n  // if (selectGenre(getState())?.length > 0) {\n  //     return\n  // }\n  dispatch(bookSlice.actions.startLoading());\n  fetch(`http://localhost:3001/api/books?id=${genreId}`).then(response => response.json()).then(books => {\n    dispatch(genreSlice.actions.successLoading(prepareData(books)));\n  }).catch(() => {\n    dispatch(genreSlice.actions.failLoading());\n  });\n};","map":{"version":3,"names":["genreSlice","prepareData","bookSlice","loadBooksIfNotExist","genreId","dispatch","getState","actions","startLoading","fetch","then","response","json","books","successLoading","catch","failLoading"],"sources":["/Users/wincentaina/WebstormProjects/yandexreacthomework/client/src/store/genre/loadBooksIfNotExist.js"],"sourcesContent":["import {genreSlice} from \"./index\";\nimport {prepareData} from \"../utils\";\nimport {bookSlice} from \"../book\";\n\nexport const loadBooksIfNotExist = (genreId) = (dispatch, getState) => {\n    // if (selectGenre(getState())?.length > 0) {\n    //     return\n    // }\n    dispatch(bookSlice.actions.startLoading())\n    fetch(`http://localhost:3001/api/books?id=${genreId}`)\n        .then((response) => response.json())\n        .then(books => {\n            dispatch(genreSlice.actions.successLoading(prepareData(books)))\n        }).catch(() => {\n            dispatch(genreSlice.actions.failLoading())\n    })\n}"],"mappings":"AAAA,SAAQA,UAAU,QAAO,SAAS;AAClC,SAAQC,WAAW,QAAO,UAAU;AACpC,SAAQC,SAAS,QAAO,SAAS;AAEjC,OAAO,MAAMC,mBAAmB,GAAIC,OAAO,GAAI,CAACC,QAAQ,EAAEC,QAAQ,KAAK;EACnE;EACA;EACA;EACAD,QAAQ,CAACH,SAAS,CAACK,OAAO,CAACC,YAAY,EAAE,CAAC;EAC1CC,KAAK,CAAE,sCAAqCL,OAAQ,EAAC,CAAC,CACjDM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAACG,KAAK,IAAI;IACXR,QAAQ,CAACL,UAAU,CAACO,OAAO,CAACO,cAAc,CAACb,WAAW,CAACY,KAAK,CAAC,CAAC,CAAC;EACnE,CAAC,CAAC,CAACE,KAAK,CAAC,MAAM;IACXV,QAAQ,CAACL,UAAU,CAACO,OAAO,CAACS,WAAW,EAAE,CAAC;EAClD,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module"}