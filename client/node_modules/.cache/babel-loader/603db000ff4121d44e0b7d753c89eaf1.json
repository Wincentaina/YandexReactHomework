{"ast":null,"code":"import { bookSlice, oneBookSlice } from \"./index\";\nimport { prepareData } from \"../utils\";\nexport const loadBooksIfNotExist = genreId => (dispatch, getState) => {\n  dispatch(bookSlice.actions.startLoading());\n  fetch(`http://localhost:3001/api/books/${genreId}`).then(response => response.json()).then(books => {\n    dispatch(bookSlice.actions.successLoading(prepareData(books)));\n  }).catch(() => {\n    dispatch(bookSlice.actions.failLoading());\n  });\n};\nexport const loadBookIfNotExist = bookId => (dispatch, getState) => {\n  dispatch(oneBookSlice.actions.startLoading());\n  fetch(`http://localhost:3001/api/book/${bookId}`).then(response => response.json()).then(item => {\n    let book = [];\n    book.push(item);\n    dispatch(oneBookSlice.actions.successLoading(prepareData(book)));\n  }).catch(e => {\n    console.log(e);\n    dispatch(oneBookSlice.actions.failLoading());\n  });\n};","map":{"version":3,"names":["bookSlice","oneBookSlice","prepareData","loadBooksIfNotExist","genreId","dispatch","getState","actions","startLoading","fetch","then","response","json","books","successLoading","catch","failLoading","loadBookIfNotExist","bookId","item","book","push","e","console","log"],"sources":["/Users/wincentaina/WebstormProjects/yandexreacthomework/client/src/store/book/loadBooksIfNotExist.js"],"sourcesContent":["import {bookSlice, oneBookSlice} from \"./index\";\nimport {prepareData} from \"../utils\";\n\nexport const loadBooksIfNotExist = (genreId) => (dispatch, getState) => {\n    dispatch(bookSlice.actions.startLoading())\n    fetch(`http://localhost:3001/api/books/${genreId}`)\n        .then((response) => response.json())\n        .then(books => {\n            dispatch(bookSlice.actions.successLoading(prepareData(books)))\n        }).catch(() => {\n        dispatch(bookSlice.actions.failLoading())\n    })\n}\n\nexport const loadBookIfNotExist = (bookId) => (dispatch, getState) => {\n    dispatch(oneBookSlice.actions.startLoading())\n    fetch(`http://localhost:3001/api/book/${bookId}`)\n        .then((response) => response.json())\n        .then(item => {\n            let book = []\n            book.push(item)\n            dispatch(oneBookSlice.actions.successLoading(prepareData(book)))\n        }).catch((e) => {\n        console.log(e)\n        dispatch(oneBookSlice.actions.failLoading())\n    })\n}\n"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,YAAY,QAAO,SAAS;AAC/C,SAAQC,WAAW,QAAO,UAAU;AAEpC,OAAO,MAAMC,mBAAmB,GAAIC,OAAO,IAAK,CAACC,QAAQ,EAAEC,QAAQ,KAAK;EACpED,QAAQ,CAACL,SAAS,CAACO,OAAO,CAACC,YAAY,EAAE,CAAC;EAC1CC,KAAK,CAAE,mCAAkCL,OAAQ,EAAC,CAAC,CAC9CM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAACG,KAAK,IAAI;IACXR,QAAQ,CAACL,SAAS,CAACO,OAAO,CAACO,cAAc,CAACZ,WAAW,CAACW,KAAK,CAAC,CAAC,CAAC;EAClE,CAAC,CAAC,CAACE,KAAK,CAAC,MAAM;IACfV,QAAQ,CAACL,SAAS,CAACO,OAAO,CAACS,WAAW,EAAE,CAAC;EAC7C,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMC,kBAAkB,GAAIC,MAAM,IAAK,CAACb,QAAQ,EAAEC,QAAQ,KAAK;EAClED,QAAQ,CAACJ,YAAY,CAACM,OAAO,CAACC,YAAY,EAAE,CAAC;EAC7CC,KAAK,CAAE,kCAAiCS,MAAO,EAAC,CAAC,CAC5CR,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAACS,IAAI,IAAI;IACV,IAAIC,IAAI,GAAG,EAAE;IACbA,IAAI,CAACC,IAAI,CAACF,IAAI,CAAC;IACfd,QAAQ,CAACJ,YAAY,CAACM,OAAO,CAACO,cAAc,CAACZ,WAAW,CAACkB,IAAI,CAAC,CAAC,CAAC;EACpE,CAAC,CAAC,CAACL,KAAK,CAAEO,CAAC,IAAK;IAChBC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IACdjB,QAAQ,CAACJ,YAAY,CAACM,OAAO,CAACS,WAAW,EAAE,CAAC;EAChD,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module"}