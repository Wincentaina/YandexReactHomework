{"ast":null,"code":"import { genreSlice } from \"./index\";\nimport { prepareData } from \"../utils\";\nimport { selectGenres } from \"./selectors\";\nexport const loadGenresIfNotExist = (dispatch, getState) => {\n  var _selectGenres;\n  if (((_selectGenres = selectGenres(getState())) === null || _selectGenres === void 0 ? void 0 : _selectGenres.length) > 0) {\n    return;\n  }\n  dispatch(genreSlice.actions.startLoading());\n  fetch(\" http://localhost:3001/api/genres\").then(response => response.json()).then(genres => {\n    dispatch(genreSlice.actions.successLoading(prepareData(genres)));\n  }).catch(() => {\n    dispatch(genreSlice.actions.failLoading());\n  });\n};","map":{"version":3,"names":["genreSlice","prepareData","selectGenres","loadGenresIfNotExist","dispatch","getState","length","actions","startLoading","fetch","then","response","json","genres","successLoading","catch","failLoading"],"sources":["/Users/wincentaina/WebstormProjects/yandexreacthomework/client/src/store/genre/loadGenresIfNotExist.js"],"sourcesContent":["import {genreSlice} from \"./index\";\nimport {prepareData} from \"../utils\";\nimport {selectGenres} from \"./selectors\";\n\nexport const loadGenresIfNotExist = (dispatch, getState) => {\n    if (selectGenres(getState())?.length > 0) {\n        return\n    }\n    dispatch(genreSlice.actions.startLoading())\n    fetch(\" http://localhost:3001/api/genres\")\n        .then((response) => response.json())\n        .then(genres => {\n            dispatch(genreSlice.actions.successLoading(prepareData(genres)))\n        }).catch(() => {\n        dispatch(genreSlice.actions.failLoading())\n    })\n}\n\n"],"mappings":"AAAA,SAAQA,UAAU,QAAO,SAAS;AAClC,SAAQC,WAAW,QAAO,UAAU;AACpC,SAAQC,YAAY,QAAO,aAAa;AAExC,OAAO,MAAMC,oBAAoB,GAAG,CAACC,QAAQ,EAAEC,QAAQ,KAAK;EAAA;EACxD,IAAI,kBAAAH,YAAY,CAACG,QAAQ,EAAE,CAAC,kDAAxB,cAA0BC,MAAM,IAAG,CAAC,EAAE;IACtC;EACJ;EACAF,QAAQ,CAACJ,UAAU,CAACO,OAAO,CAACC,YAAY,EAAE,CAAC;EAC3CC,KAAK,CAAC,mCAAmC,CAAC,CACrCC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAACG,MAAM,IAAI;IACZT,QAAQ,CAACJ,UAAU,CAACO,OAAO,CAACO,cAAc,CAACb,WAAW,CAACY,MAAM,CAAC,CAAC,CAAC;EACpE,CAAC,CAAC,CAACE,KAAK,CAAC,MAAM;IACfX,QAAQ,CAACJ,UAAU,CAACO,OAAO,CAACS,WAAW,EAAE,CAAC;EAC9C,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module"}